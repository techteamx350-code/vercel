<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elite Air — Why Elite Air</title>
<link rel="icon" type="image/x-icon" href="img/elite.ico">

<!-- Leaflet (for routes map) -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="anonymous"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin="anonymous"></script>

<style>
  /* =========================
     Brand tokens (aligned with Index/News)
     ========================= */
  :root{
    --ea-charcoal:#161A1F;
    --ea-gold:#C7A98C;
    --ea-gold-hi:#FFD479;
    --ea-pearl:#FDFDFC;
    --ea-text-sub:#B9C1CC;
    --ea-navy:#0f172a;
    --ea-ink:#111827;
    --ea-ivory:#f7f4ee;
    --ea-panel:#ffffff;
    --ea-muted:#6b7280;
    --ea-shadow:0 18px 60px rgba(15,23,42,.18);
    --radius:18px;

    /* Fixed header height */
    --nav-h:72px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
    color:var(--ea-ink);
    background:var(--ea-ivory);
    padding-top: calc(var(--nav-h) + 18px); /* room for fixed header */
    line-height:1.55;
  }
  .container{max-width:1200px;margin:0 auto;padding:0 20px}

  /* =========================
     Luxury Gradient Fixed Header + Mobile Hamburger (from Index/News)
     ========================= */
  .nav {
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 10000;
    display: flex; align-items: center; gap: 18px;
    padding: 26px 56px;
    background: linear-gradient(90deg, #D5D7DB 0%, #C7A98C 44%, #F7F6F3 78%, #FDFDFC 100%);
    box-shadow: 0 6px 24px rgba(0,0,0,.06), inset 0 -3px 0 rgba(184,146,106,.45);
    border: none;
  }
  .logo { font-family: "Playfair Display", serif; font-size: 28px; font-weight: 600; color: #1e1e1e; letter-spacing: .06em; }
  .nav-links{display:flex; align-items:center; gap:40px; flex-wrap:wrap}
  .nav a { text-decoration: none; color: #222; font-weight: 600; font-size: 15px; letter-spacing:.03em; position: relative; }
  .nav a::after { content: ""; position: absolute; left: 0; right: 0; bottom: -10px; height: 2px; background: linear-gradient(90deg,#C7A98C,#E7D9C7); opacity: 0; transform: scaleX(.6); transition: opacity .2s, transform .2s; }
  .nav a:hover { color: #c7a98c; }
  .nav a:hover::after { opacity: 1; transform: scaleX(1); }
  .spacer{flex:1}
  .btn-book { padding: 12px 20px; border-radius: 999px; border: 1px solid #c7a98c; background: rgba(255,255,255,.35); font-weight: 700; cursor: pointer; transition: all .25s; color: #1e1e1e; box-shadow: 0 4px 14px rgba(0,0,0,.05); text-decoration:none; display:inline-block; }
  .btn-book:hover { background:#c7a98c; color:#ffffff; box-shadow:0 10px 22px rgba(199,169,140,.35); }

  /* Hamburger button (right-aligned) */
  .hamburger{ display:none; border:0; background:transparent; padding:8px; border-radius:10px; }
  .hamburger:focus{ outline:2px solid #c7a98c; outline-offset:2px; }
  .ham-bars{ display:inline-grid; gap:5px; }
  .ham-bars span{ display:block; width:22px; height:2px; background:#1e1e1e; border-radius:2px; transition:transform .25s, opacity .25s; }

  /* Mobile dropdown panel */
  .nav-panel{ display:none; position:fixed; top:var(--nav-h); left:0; right:0; background:#fff; box-shadow:0 22px 60px rgba(0,0,0,.16); z-index:9999; padding:12px 14px 16px; border-bottom:1px solid #eee; }
  .nav-panel a{ display:block; margin:10px 6px; font-weight:700; color:#222; text-decoration:none; }
  .nav-panel a:hover{ color:#c7a98c; }
  .nav-panel .row-actions{ display:grid; gap:10px; margin-top:6px; }

  /* Backdrop */
  .nav-backdrop{ display:none; position:fixed; inset:0; background:rgba(0,0,0,.28); z-index:9998; }

  /* Open state */
  .nav.open .nav-panel{ display:block; animation:slideDown .18s ease-out; }
  .nav.open + .nav-backdrop{ display:block; }
  .nav.open .ham-bars span:nth-child(1){ transform:translateY(7px) rotate(45deg); }
  .nav.open .ham-bars span:nth-child(2){ opacity:0; }
  .nav.open .ham-bars span:nth-child(3){ transform:translateY(-7px) rotate(-45deg); }
  @keyframes slideDown{ from{ transform:translateY(-8px); opacity:.6 } to{ transform:translateY(0); opacity:1 } }

  /* Language switcher (simple) */
  .ea-actions{display:flex;align-items:center;gap:10px}
  .lang-switch{position:relative}
  .lang-btn{ display:inline-flex;align-items:center;gap:6px;padding:8px 10px; border:1px solid #e6e8ee;border-radius:999px;background:#fff;color:#111; cursor:pointer;font-weight:700;letter-spacing:.04em }
  .lang-btn .chev{transition:transform .15s}
  .lang-switch.open .lang-btn .chev{transform:rotate(180deg)}
  .lang-list{ position:absolute;right:0;top:calc(100% + 8px);background:#fff;border:1px solid #e6e8ee; border-radius:12px;box-shadow:0 12px 26px rgba(0,0,0,.08);padding:6px;list-style:none;margin:0;display:none;min-width:92px;z-index:50 }
  .lang-switch.open .lang-list{display:block}
  .lang-list li{padding:8px 10px;border-radius:10px;cursor:pointer;font-weight:700}
  .lang-list li:hover{background:#f4f5f7}

  @media (max-width:900px){
    :root{ --nav-h:64px }
    body{ padding-top: calc(var(--nav-h) + 8px); }
    .nav{ padding:12px 16px; }
    .nav-links{gap:12px}
    .logo{font-size:22px; letter-spacing:.12em}
    .nav-links, .btn-book, .ea-actions{ display:none; } /* hide inline items on mobile */
    .hamburger{ display:inline-flex; margin-left:auto; } /* button stays at far right */
  }

  /* =========================
     Ribbon / crumbs (keep your original)
     ========================= */
  .ribbon{width:100%; background:#fff; border-bottom:1px solid #ececec}
  .ribbon .wrap{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:10px 18px; max-width:1200px; margin:0 auto}
  .crumbs{font-size:12px; color:#6b7280}
  .crumbs a{color:#6b7280; text-decoration:none}

  /* =========================
     Hero
     ========================= */
  .hero{position:relative; background:#fff}
  .hero-inner{max-width:1200px; margin:0 auto; padding: clamp(20px,5vw,44px) 18px; display:grid; grid-template-columns: 1fr; gap:22px}
  .hero h1{font-size: clamp(28px,3.4vw,44px); margin:0; font-weight:800; color:var(--ea-navy)}
  .hero p{color:#46546b; line-height:1.8; margin:0}
  .hero-visual{border-radius:18px; overflow:hidden; box-shadow:var(--ea-shadow); border:1px solid #e6e8ee}
  .hero-visual img{width:100%; height:100%; display:block; object-fit:cover}

  /* =========================
     Journey Details
     ========================= */
  .section{max-width:1200px; margin:0 auto; padding: clamp(24px,5vw,56px) 18px}
  .section h2{margin:0 0 10px; font-size: clamp(24px,2.8vw,34px); font-weight:800; color:var(--ea-navy)}
  .lead{color:var(--ea-muted); max-width:70ch}

  .jd-grid{display:grid; grid-template-columns: repeat(2, 1fr); gap: clamp(14px,2.2vw,22px); margin-top:18px}
  .jd{background:#fff; border:1px solid #e6e8ee; border-radius:16px; overflow:hidden; box-shadow:0 10px 24px rgba(15,23,42,.06); display:grid; grid-template-columns: 1fr 1fr}
  .jd-media{min-height:240px}
  .jd-media img{width:100%; height:100%; object-fit:cover; display:block; border-radius: 20px;}
  .jd-body{padding:16px 18px}
  .jd h3{margin:6px 0 8px; font-size: clamp(18px,2.2vw,22px); font-weight:800}
  .jd p{margin:0; color:#5b667a; line-height:1.8}
  @media (max-width: 980px){ .jd-grid{ grid-template-columns:1fr } .jd{ grid-template-columns: 1fr } }

  /* =========================
     Routes Map (reuse your index map styling)
     ========================= */
  .map-card{ background:#fff; border-radius:var(--radius); box-shadow:var(--ea-shadow); overflow:hidden; border:1px solid #e6e8ee }
  #routes-map{ height:520px; width:100% }
  .legend{ display:grid; grid-template-columns:repeat(3,minmax(180px,1fr)); gap:10px 22px; padding:16px 18px 20px; border-top:1px solid #eee; font-size:14px; color:#404652; }
  .legend-item{ display:flex; align-items:center; gap:10px; white-space:nowrap; }
  .chip{ width:42px; height:6px; border-radius:999px; display:inline-block; position:relative; }
  .chip.open{ background:#1b4f72; } .chip.via{ background:#b85c00; } .chip.planned{ background:#9298a1; }
  .chip.planned::after{ content:""; position:absolute; inset:0; background:repeating-linear-gradient(90deg, rgba(255,255,255,0) 0 8px, rgba(255,255,255,.9) 8px 12px); border-radius:999px; mix-blend-mode:screen; opacity:.8; }

  .routes-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:14px; margin-top:18px; }
  .route-tile{ background:#fff; border-radius:14px; box-shadow:var(--ea-shadow); padding:12px 14px; display:flex; flex-direction:column; gap:6px; font-size:15px; }
  .route-title{ font-weight:700; } .route-meta{ color:var(--ea-muted); font-size:13px; }
  .city-label{ background:rgba(255,255,255,.9); border:1px solid rgba(0,0,0,.05); padding:2px 6px; border-radius:6px; font-size:12px; font-weight:600; color:#202328; box-shadow:0 2px 10px rgba(0,0,0,.06); }
  @media (max-width:640px){ #routes-map{ height:420px } .legend{ grid-template-columns:1fr } }

  /* =========================
     Mesh Footer (same as Index/News)
     ========================= */
  .elite-footer{
    position:relative; background:linear-gradient(180deg,#1C2128, var(--ea-charcoal));
    color:var(--ea-pearl); padding:64px 40px 36px; overflow:hidden; margin-top:24px;
  }
  .elite-mesh{ position:absolute; inset:-10% -6% -18% -6%; transform:rotate(-6deg); width:120%; height:140%; pointer-events:none; }
  .elite-footer__inner{ position:relative; z-index:1; display:grid; gap:8px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); max-width:1200px; margin:0 auto; }
  .elite-col h4{ margin:0 0 14px; font:600 14px/1.2 "Inter",system-ui; letter-spacing:.08em; text-transform:uppercase; color:var(--ea-pearl); }
  .elite-col a{ display:block; margin:8px 0; color:var(--ea-text-sub); text-decoration:none; font:500 14px/1.6 "Inter",system-ui; transition:color .2s ease; }
  .elite-col a:hover{ color:var(--ea-gold-hi); }
  .elite-copy{ position:relative; z-index:1; margin:42px 0 0; padding-top:18px; border-top:1px solid rgba(255,255,255,.14); color:#9FA6B2; font:400 14px/1.6 "Inter",system-ui; text-align:center; }
</style>
</head>
<body>

<!-- =========================
     HEADER (same as Index/News)
     ========================= -->
<nav class="nav" aria-label="Primary">
  <div class="logo">ELITE&nbsp;AIR</div>

  <div class="nav-links">
    <a href="index.html" data-i18n="nav.home">Home</a>
    <a href="destinations.html" data-i18n="nav.destinations">Destinations</a>
    <a href="offers.html" data-i18n="nav.offers">Offers</a>
    <a href="experience.html" data-i18n="nav.experience">Experience</a>
    <a href="news.html" data-i18n="nav.news">Latest news</a>
    <a href="cargo.html" data-i18n="nav.cargo">Cargo</a>
    <a href="membership.html" data-i18n="nav.membership">Membership</a>
  </div>

  <div class="spacer"></div>

  <button class="btn-book" type="button" onclick="location.href='members'">Members Login</button>

  <!-- Simple language switch (desktop) -->
  <div class="ea-actions">
    <div class="lang-switch" id="lang-switch">
      <button class="lang-btn" id="lang-btn" aria-haspopup="listbox" aria-expanded="false">
        <span id="lang-current">EN</span>
        <svg class="chev" width="14" height="14" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
      <ul class="lang-list" id="lang-list" role="listbox" aria-label="Choose language">
        <li role="option" data-lang="en">EN</li>
        <li role="option" data-lang="ar">AR</li>
        <li role="option" data-lang="fr">FR</li>
      </ul>
    </div>
  </div>

  <!-- Hamburger (mobile only, at right) -->
  <button class="hamburger" id="nav-toggle" aria-expanded="false" aria-controls="nav-panel" aria-label="Open menu">
    <span class="ham-bars" aria-hidden="true"><span></span><span></span><span></span></span>
  </button>

  <!-- Mobile dropdown panel -->
  <div class="nav-panel" id="nav-panel" hidden>
    <a href="index.html">Home</a>
    <a href="destinations.html">Destinations</a>
    <a href="offers.html">Offers</a>
    <a href="experience.html">Experience</a>
    <a href="news.html">Latest news</a>
    <a href="cargo.html">Cargo</a>
    <a href="membership.html">Membership</a>
    <div class="row-actions">
      <button class="btn-book" type="button" onclick="location.href='members'">Members Login</button>
      <!-- Mobile language switcher -->
      <div class="ea-actions">
        <div class="lang-switch" id="lang-switch-m">
          <button class="lang-btn" id="lang-btn-m" aria-haspopup="listbox" aria-expanded="false">
            <span id="lang-current-m">EN</span>
            <svg class="chev" width="14" height="14" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
          <ul class="lang-list" id="lang-list-m" role="listbox" aria-label="Choose language">
            <li role="option" data-lang="en">EN</li>
            <li role="option" data-lang="ar">AR</li>
            <li role="option" data-lang="fr">FR</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>
<div class="nav-backdrop" id="nav-backdrop" hidden></div>

<!-- ===== Ribbon / crumbs ===== -->
<div class="ribbon">
  <div class="wrap">
    <div class="crumbs"><a href="index.html">Home</a> &nbsp;/&nbsp; Why Elite Air</div>
  </div>
</div>

<!-- ===== Hero ===== -->
<section class="hero">
  <div class="hero-inner">
    <div>
      <h1>Why fly with Elite Air?</h1>
      <p>
        We craft premium journeys that feel calm, private, and personal—from unhurried lounges and chef-curated dining to attentive hosts and refined cabins.
        Luxury here means quality of time and clarity at every step so your trip feels effortless and memorable.
      </p>
      <p style="margin-top:8px">
        Our network from Kuwait connects you directly to key cities with schedules tailored to business-class comfort. Let your next trip start rested—and arrive ready.
      </p>
    </div>
    <figure class="hero-visual" aria-label="Elite Air banner">
      <img src="img/eliteairskynoon.jpeg" alt="Elite Air aircraft over turquoise islands">
    </figure>
  </div>
</section>

<!-- ===== Trio images ===== -->
<section class="section" aria-label="Highlights gallery">
  <div style="display:grid; grid-template-columns:repeat(3,1fr); gap:14px">
    <figure class="hero-visual"><img src="img/eliteair-seats4.jpeg" alt="Suite style seating"></figure>
    <figure class="hero-visual"><img src="img/eliteair-meal5.png" alt="Curated dining"></figure>
    <figure class="hero-visual"><img src="img/eliteair-loudge2.png" alt="Quiet lounge"></figure>
  </div>
</section>

<!-- ===== Journey Details ===== -->
<section class="section">
  <h2>Your journey, elevated end-to-end</h2>
  <p class="lead">Thoughtful services available on selected fares and routes. Features may vary by airport and aircraft.</p>

  <div class="jd-grid">
    <article class="jd">
      <figure class="jd-media" aria-label="Select beverages"><img src="img/eliteair-drinks2.png" alt="Signature mocktails and hot beverages"></figure>
      <div class="jd-body">
        <h3>Select beverages on Elite Air</h3>
        <p>Enjoy a curated selection of premium teas, specialty coffees, and signature mocktails. A refreshing pairing for every meal and moment.</p>
      </div>
    </article>

    <article class="jd">
      <figure class="jd-media" aria-label="Private chauffeuring"><img src="img/eliteair-luxurycar1.png" alt="Chauffeur sedan pickup"></figure>
      <div class="jd-body">
        <h3>Private chauffeuring*</h3>
        <p>Begin relaxed with optional chauffeur service to the airport subject to availability and fare selection.</p>
      </div>
    </article>

    <article class="jd">
      <figure class="jd-media" aria-label="Lounge access"><img src="img/eliteair-loudge3.png" alt="Lounge seating and workspace"></figure>
      <div class="jd-body">
        <h3>Premium airport lounge access*</h3>
        <p>Quiet spaces, refreshments, and Wi-Fi to settle in before boarding. Availability varies by airport.</p>
      </div>
    </article>

    <article class="jd">
      <figure class="jd-media" aria-label="In-flight dining"><img src="img/eliteair-meal6.png" alt="Fine dining plating"></figure>
      <div class="jd-body">
        <h3>In-flight fine dining</h3>
        <p>Fresh seasonal ingredients, regional flavours, and special meals on request served on elegant tableware and paced for comfort.</p>
      </div>
    </article>
  </div>
</section>

<!-- ===== Routes (Leaflet map) ===== -->
<section class="section" id="our-routes">
  <h2>Our routes</h2>
  <p class="lead">Direct Luxury-class routes designed around your life from our Kuwait hub.</p>

  <div class="map-card">
    <div id="routes-map" aria-label="Route map"></div>
    <div class="legend" aria-label="Legend">
      <div class="legend-item"><span class="chip open"></span> Open for sale – Direct flight</div>
      <div class="legend-item"><span class="chip via"></span> Open for sale – Refuelling stop</div>
      <div class="legend-item"><span class="chip planned"></span> Planned routes – Direct flight</div>
    </div>
  </div>

  <div class="routes-grid" id="routes-grid"></div>
</section>

<!-- =========================
     FOOTER (mesh, same as Index/News)
     ========================= -->
<footer class="elite-footer">
  <!-- Curved gold mesh overlay (SVG) -->
  <svg class="elite-mesh" viewBox="0 0 1600 900" preserveAspectRatio="none" aria-hidden="true">
    <defs>
      <linearGradient id="eaGold" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0" stop-color="#C7A98C"/>
        <stop offset="1" stop-color="#FFD479"/>
      </linearGradient>
    </defs>
    <g stroke="url(#eaGold)" stroke-width="2.6" stroke-linecap="round" opacity="0.55">
      <path d="M-120,840 C 220,690 560,640 980,620 1310,605 1670,560 1880,490"/>
      <path d="M-120,760 C 220,620 560,580 980,560 1310,545 1670,510 1880,450"/>
      <path d="M-120,680 C 220,550 560,520 980,500 1310,490 1670,470 1880,415"/>
      <path d="M-120,600 C 220,480 560,460 980,440 1310,430 1670,440 1880,385"/>
      <path d="M-120,520 C 220,420 560,400 980,380 1310,370 1670,410 1880,360"/>
    </g>
    <g stroke="url(#eaGold)" stroke-width="2.6" stroke-linecap="round" opacity="0.55">
      <path d="M 0,900 C 360,760 720,700 1120,660 1520,620 1920,560 2320,520"/>
      <path d="M 0,820 C 360,700 720,640 1120,600 1520,560 1920,540 2320,500"/>
      <path d="M 0,740 C 360,640 720,600 1120,560 1520,520 1920,520 2320,480"/>
      <path d="M 0,660 C 360,580 720,560 1120,520 1520,500 1920,500 2320,460"/>
    </g>
  </svg>

  <div class="elite-footer__inner">
    <div class="elite-col">
      <h4>Popular flights</h4>
      <a href="#">Kuwait → London</a>
      <a href="#">Kuwait → Paris</a>
      <a href="#">Kuwait → Dubai</a>
      <a href="#">Kuwait → Cairo</a>
      <a href="#">Kuwait → Istanbul</a>
      <a href="#">Kuwait → Marrakesh</a>
      <a href="#">Kuwait → Riyadh</a>
      <a href="#">Kuwait → Doha</a>
    </div>

    <div class="elite-col">
      <h4>Navigation</h4>
      <a href="destinations.html" data-i18n="nav.destinations">Destinations</a>
      <a href="offers.html" data-i18n="nav.offers">Offers</a>
      <a href="experience.html" data-i18n="nav.experience">Experience</a>
      <a href="news.html" data-i18n="nav.news">Latest News</a>
      <a href="cargo.html" data-i18n="nav.cargo">Cargo</a>
      <a href="membership.html" data-i18n="nav.membership">Membership</a>
    </div>

    <div class="elite-col">
      <h4>About us</h4>
      <a href="why-elite-air.html" aria-current="page">Why Elite Air</a>
      <a href="careers.html">Careers</a>
      <a href="contact.html">Contact</a>
      <a href="imprint.html">Imprint</a>
      <a href="meda.html">Medical Assistance</a>
      <a href="/investors-index.html">Investors</a>
    </div>

    <div class="elite-col">
      <h4>Policies</h4>
      <a href="privacy-policy.html">Privacy Policy</a>
      <a href="Cookie-Policy.html">Cookie Policy</a>
      <a href="membership-terms.html">Membership Terms</a>
    </div>

    <div class="elite-col">
      <h4>Legal</h4>
      <a href="Terms-And-Conditions.html">Terms & Conditions</a>
      <a href="Conditions-of-Carriage.html">Conditions of Carriage</a>
      <a href="notice-of-Passenger-Rights.html">Notice of Passenger Rights</a>
    </div>
  </div>

  <p class="elite-copy">© 2025 Elite Airline Company K.S.C. (Public). All Rights Reserved.</p>
</footer>

<script>
/* ===== Hamburger / Mobile menu (same behavior as News) ===== */
const navEl = document.querySelector('.nav');
const navToggle = document.getElementById('nav-toggle');
const navPanel = document.getElementById('nav-panel');
const backdrop = document.getElementById('nav-backdrop');

function openMenu(){
  navEl.classList.add('open');
  navPanel.hidden = false;
  backdrop.hidden = false;
  navToggle.setAttribute('aria-expanded','true');
  document.body.style.overflow = 'hidden';
}
function closeMenu(){
  navEl.classList.remove('open');
  navPanel.hidden = true;
  backdrop.hidden = true;
  navToggle.setAttribute('aria-expanded','false');
  document.body.style.overflow = '';
}
navToggle.addEventListener('click', ()=> navEl.classList.contains('open') ? closeMenu() : openMenu());
backdrop?.addEventListener('click', closeMenu);
window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeMenu(); });
navPanel.addEventListener('click', (e)=>{ const el = e.target.closest('a, button'); if(el){ closeMenu(); } });

/* ===== Language Switcher (Desktop) ===== */
(() => {
  const wrap = document.getElementById('lang-switch');
  if(!wrap) return;
  const btn  = document.getElementById('lang-btn');
  const list = document.getElementById('lang-list');
  const cur  = document.getElementById('lang-current');

  btn.addEventListener('click', () => {
    const open = wrap.classList.toggle('open');
    btn.setAttribute('aria-expanded', open ? 'true' : 'false');
  });
  document.addEventListener('click', (e)=>{
    if(!wrap.contains(e.target)){
      wrap.classList.remove('open'); btn.setAttribute('aria-expanded','false');
    }
  });
  list.addEventListener('click', (e)=>{
    const li = e.target.closest('li'); if(!li) return;
    cur.textContent = li.dataset.lang.toUpperCase();
    wrap.classList.remove('open'); btn.setAttribute('aria-expanded','false');
    document.documentElement.dir = (li.dataset.lang==='ar') ? 'rtl' : 'ltr';
  });
})();

/* ===== Language Switcher (Mobile) ===== */
(() => {
  const wrap = document.getElementById('lang-switch-m');
  if(!wrap) return;
  const btn  = document.getElementById('lang-btn-m');
  const list = document.getElementById('lang-list-m');
  const cur  = document.getElementById('lang-current-m');

  btn.addEventListener('click', () => {
    const open = wrap.classList.toggle('open');
    btn.setAttribute('aria-expanded', open ? 'true' : 'false');
  });
  document.addEventListener('click', (e)=>{
    if(!wrap.contains(e.target)){
      wrap.classList.remove('open'); btn.setAttribute('aria-expanded','false');
    }
  });
  list.addEventListener('click', (e)=>{
    const li = e.target.closest('li'); if(!li) return;
    cur.textContent = li.dataset.lang.toUpperCase();
    wrap.classList.remove('open'); btn.setAttribute('aria-expanded','false');
    document.documentElement.dir = (li.dataset.lang==='ar') ? 'rtl' : 'ltr';
  });
})();
</script>

<script>
/* ===== Routes Map (copied logic) ===== */
const CITIES = {
  "Kuwait (KWI)":   [29.2266, 47.9689],
  "Dubai (DXB)":    [25.2532, 55.3657],
  "London (LGW)":   [51.1537, -0.1821],
  "Paris (ORY)":    [48.7262, 2.3652],
  "Marrakesh (RAK)":[31.6069, -8.0363],
  "Cairo (CAI)":    [30.1219, 31.4056],
  "Istanbul (IST)": [41.2753, 28.7519]
};
const ROUTES = [
  { from: "Kuwait (KWI)", to: "London (LGW)",    type: "openDirect" },
  { from: "Kuwait (KWI)", to: "Paris (ORY)",     type: "openDirect" },
  { from: "Kuwait (KWI)", to: "Cairo (CAI)",     type: "openDirect" },
  { from: "Kuwait (KWI)", to: "Marrakesh (RAK)", type: "planned" },
  { from: "Kuwait (KWI)", to: "Istanbul (IST)",  type: "openDirect" },
  { from: "Kuwait (KWI)", to: "Dubai (DXB)",     type: "openDirect" }
];

const map = L.map('routes-map',{ zoomControl:false, worldCopyJump:true });
L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png', { maxZoom: 6, minZoom: 2, attribution: '&copy; OpenStreetMap & CARTO' }).addTo(map);

const STYLE = {
  cityDot: { radius:5, color:'#fff', fillColor:'#cf8a2d', fillOpacity:1, weight:1 },
  openDirect: { color:'#1b4f72', weight:3, opacity:.95 },
  openVia:     { color:'#b85c00', weight:3, opacity:.95 },
  planned:     { color:'#9298a1', weight:2, dashArray:'8 8', opacity:1 }
};

const pts = Object.values(CITIES).map(([lat,lng])=>L.latLng(lat,lng));
map.fitBounds(L.latLngBounds(pts).pad(0.35));

Object.entries(CITIES).forEach(([name,[lat,lng]])=>{
  L.circleMarker([lat,lng], STYLE.cityDot).addTo(map);
  L.marker([lat,lng], { icon: L.divIcon({ className:'city-label', html:name, iconSize:[0,0], iconAnchor:[-6,18] }) }).addTo(map);
});

function greatCircle(from,to,segments=120){
  const toRad = d=>d*Math.PI/180, toDeg = r=>r*180/Math.PI;
  let [lat1,lon1]=[toRad(from[0]),toRad(from[1])];
  let [lat2,lon2]=[toRad(to[0]),toRad(to[1])];
  const d = 2*Math.asin(Math.sqrt(Math.sin((lat2-lat1)/2)**2 + Math.cos(lat1)*Math.cos(lat2)*Math.sin((lon2-lon1)/2)**2));
  if(d===0) return [from,to];
  const pts=[];
  for(let i=0;i<=segments;i++){
    const f=i/segments, A=Math.sin((1-f)*d)/Math.sin(d), B=Math.sin(f*d)/Math.sin(d);
    const x=A*Math.cos(lat1)*Math.cos(lon1)+B*Math.cos(lat2)*Math.cos(lon2);
    const y=A*Math.cos(lat1)*Math.sin(lon1)+B*Math.cos(lat2)*Math.sin(lon2);
    const z=A*Math.sin(lat1)+B*Math.sin(lat2);
    pts.push([toDeg(Math.atan2(z,Math.sqrt(x*x+y*y))), toDeg(Math.atan2(y,x))]);
  }
  return pts;
}

const listEl=document.getElementById('routes-grid');
function addRouteTile(r){
  const viaText = r.type==='openVia' ? `via ${r.via?.join(', ')}` : (r.type==='planned'?'Planned':'Direct');
  const el=document.createElement('div');
  el.className='route-tile';
  el.innerHTML=`<div class="route-title">${r.from} ⇄ ${r.to}</div><div class="route-meta">${viaText}</div>`;
  listEl.appendChild(el);
  return el;
}

ROUTES.forEach(route=>{
  const src=CITIES[route.from], dst=CITIES[route.to];
  if(!src||!dst) return;
  const tile=addRouteTile(route);
  const draw=(a,b,key)=>{
    const latlngs=greatCircle(a,b,160);
    const line=L.polyline(latlngs,STYLE[key]).addTo(map);
    tile.addEventListener('mouseenter',()=>line.setStyle({weight:STYLE[key].weight+1}));
    tile.addEventListener('mouseleave',()=>line.setStyle({weight:STYLE[key].weight}));
  };
  if(route.type==='openVia' && route.via?.length){
    let last=src; route.via.forEach(n=>{ const s=CITIES[n]; if(s){ draw(last,s,'openVia'); last=s; }});
    draw(last,dst,'openVia');
  }else if(route.type==='planned'){ draw(src,dst,'planned'); }
  else{ draw(src,dst,'openDirect'); }
});
</script>
<script src="assets/language-switcher.js" defer></script>
</body>
</html>
